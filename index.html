<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code</title>
</head>
<body>
    <p1>
       aW1wb3J0IG9zDQppbXBvcnQgc3VicHJvY2VzcyBhcyBhDQppbXBvcnQgdGltZSBhcyBiDQppbXBvcnQgcHN1dGlsIGFzIGMNCmltcG9ydCB0aHJlYWRpbmcgYXMgZA0KZnJvbSB0a2ludGVyIGltcG9ydCBUaywgTGFiZWwNCmltcG9ydCBweWF1dG9ndWkgYXMgZQ0KaW1wb3J0IHJlcXVlc3RzIGFzIGYNCmltcG9ydCB0ZW1wZmlsZSBhcyBnDQppbXBvcnQgc2h1dGlsDQoNCiMgRnVuY3Rpb25zIGFuZCBzY3JpcHRzIHJlbWFpbiB0aGUgc2FtZSBhcyBwcmV2aW91c2x5IG9iZnVzY2F0ZWQNCg0Kc2Nhbl9maWxlc19zY3JpcHQgPSAiIiINCmltcG9ydCBvcyBhcyBhDQppbXBvcnQgdGhyZWFkaW5nIGFzIGINCmltcG9ydCB0ZW1wZmlsZSBhcyBjDQppbXBvcnQgcHN1dGlsIGFzIGQNCng9YS5wYXRoLmpvaW4oYy5nZXR0ZW1wZGlyKCksImZpbGVfbG9jYXRpb25zLnR4dCIpDQp5PWIuTG9jaygpDQpkZWYgeihlKToNCiAgICBnbG9iYWwgeA0KICAgIGZvciBmLF8sZyBpbiBhLndhbGsoZSx0b3Bkb3duPUZhbHNlKToNCiAgICAgICAgaWYgYW55KGguc3RhcnRzd2l0aCgnLicpIGZvciBoIGluIGcpOmNvbnRpbnVlDQogICAgICAgIHRyeTphLmxpc3RkaXIoZikNCiAgICAgICAgZXhjZXB0IFBlcm1pc3Npb25FcnJvcjpjb250aW51ZQ0KICAgICAgICBpPTANCiAgICAgICAgaj1bXQ0KICAgICAgICBmb3IgayBpbiBnOg0KICAgICAgICAgICAgbD1hLnBhdGguam9pbihmLGspDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgaWYgYS5wYXRoLmlzZmlsZShsKTppKz0xO2ouYXBwZW5kKGwpDQogICAgICAgICAgICBleGNlcHQgUGVybWlzc2lvbkVycm9yOnBhc3MNCiAgICAgICAgd2l0aCB5Og0KICAgICAgICAgICAgd2l0aCBvcGVuKHgsJ2EnKSBhcyBtOg0KICAgICAgICAgICAgICAgIG0ud3JpdGUoZiJ7Zn0se2l9LHsnOycuam9pbihqKX1cXG4iKQ0KZGVmIG4oKToNCiAgICBvPWQuZGlza19wYXJ0aXRpb25zKGFsbD1UcnVlKQ0KICAgIHA9W3EubW91bnRwb2ludCBmb3IgcSBpbiBvIGlmIGEucGF0aC5pc2RpcihxLm1vdW50cG9pbnQpXQ0KICAgIHI9W10NCiAgICBmb3IgZSBpbiBwOg0KICAgICAgICBzPWIuVGhyZWFkKHRhcmdldD16LGFyZ3M9KGUsKSkNCiAgICAgICAgci5hcHBlbmQocykNCiAgICAgICAgcy5zdGFydCgpDQogICAgZm9yIHMgaW4gcjpzLmpvaW4oKQ0KICAgIHByaW50KGYiRmlsZSBsb2NhdGlvbnMgc2F2ZWQgdG8ge3h9IikNCmlmIF9fbmFtZV9fPT0iX19tYWluX18iOm4oKQ0KIiIiDQoNCmVuY3J5cHRfZmlsZXNfc2NyaXB0ID0gIiIiDQppbXBvcnQgb3MgYXMgYQ0KZnJvbSBjcnlwdG9ncmFwaHkuZmVybmV0IGltcG9ydCBGZXJuZXQgYXMgYg0KaW1wb3J0IHRlbXBmaWxlIGFzIGMNCmRlZiBkKCk6cmV0dXJuIGIuZ2VuZXJhdGVfa2V5KCkNCmRlZiBlKGYsZyk6DQogICAgaD1iKGcpDQogICAgd2l0aCBvcGVuKGYsJ3JiJykgYXMgaTpqPWkucmVhZCgpDQogICAgaz1oLmVuY3J5cHQoaikNCiAgICB3aXRoIG9wZW4oZiwnd2InKSBhcyBpOmkud3JpdGUoaykNCmRlZiBsKCk6DQogICAgbT1hLnBhdGguam9pbihjLmdldHRlbXBkaXIoKSwiZmlsZV9sb2NhdGlvbnMudHh0IikNCiAgICBuPWQoKQ0KICAgIG89YS5wYXRoLmpvaW4oYy5nZXR0ZW1wZGlyKCksImVuY3J5cHRpb25fa2V5LmtleSIpDQogICAgd2l0aCBvcGVuKG8sJ3diJykgYXMgcDpwLndyaXRlKG4pDQogICAgcHJpbnQoZiJFbmNyeXB0aW9uIGtleSBzYXZlZCB0byB7b30iKQ0KICAgIGlmIG5vdCBhLnBhdGguZXhpc3RzKG0pOnByaW50KGYiRmlsZSB7bX0gbm90IGZvdW5kISIpO3JldHVybg0KICAgIHdpdGggb3BlbihtLCdyJykgYXMgaTptPWkucmVhZGxpbmVzKCkNCiAgICBmb3IgcSBpbiBtOg0KICAgICAgICByPXEuc3RyaXAoKS5zcGxpdCgnLCcpDQogICAgICAgIGlmIGxlbihyKTwzOmNvbnRpbnVlDQogICAgICAgIHM9clsyXS5zcGxpdCgnOycpDQogICAgICAgIGZvciBmIGluIHM6DQogICAgICAgICAgICBpZiBhLnBhdGguaXNmaWxlKGYpOg0KICAgICAgICAgICAgICAgIHRyeTplKGYsbik7cHJpbnQoZiJFbmNyeXB0ZWQge2Z9IikNCiAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIHQ6cHJpbnQoZiJGYWlsZWQgdG8gZW5jcnlwdCB7Zn06IHt0fSIpDQppZiBfX25hbWVfXz09Il9fbWFpbl9fIjpsKCkNCiIiIg0KDQpkZWYgaChpKToNCiAgICBpZiBpID09ICJzY2FuX2ZpbGVzIjogZXhlYyhzY2FuX2ZpbGVzX3NjcmlwdCkNCiAgICBlbGlmIGkgPT0gImVuY3J5cHRfZmlsZXMiOiBleGVjKGVuY3J5cHRfZmlsZXNfc2NyaXB0KQ0KDQpkZWYgaihrKToNCiAgICB3aGlsZSBUcnVlOg0KICAgICAgICBmb3IgbCwgbSBpbiBlbnVtZXJhdGUoayk6DQogICAgICAgICAgICBpZiBtLnBvbGwoKSBpcyBub3QgTm9uZToNCiAgICAgICAgICAgICAgICBwcmludChmIlByb2Nlc3Mge20ucGlkfSBkaWVkLCByZXN0YXJ0aW5nLi4uIikNCiAgICAgICAgICAgICAgICBrW2xdID0gaChtLmFyZ3NbLTFdKQ0KICAgICAgICBiLnNsZWVwKDEpDQoNCmRlZiBuKCk6DQogICAgbyA9IFRrKCkNCiAgICBvLnRpdGxlKCJQdWxzZUNpcGhlciIpDQogICAgby5nZW9tZXRyeSgiNzIweDU2MCIpDQogICAgby5hdHRyaWJ1dGVzKCItZnVsbHNjcmVlbiIsIFRydWUpDQogICAgby5wcm90b2NvbCgiV01fREVMRVRFX1dJTkRPVyIsIGxhbWJkYTogTm9uZSkNCiAgICBwID0gTGFiZWwobywgdGV4dD0iWW91IGhhdmUgYmVlbiBoYWNrZWQgYnkgUHVsc2VDaXBoZXIsIGZvciBzY2FtbWluZyIsIGZnPSJyZWQiLCBmb250PSgiSGVsdmV0aWNhIiwgMTYpKQ0KICAgIHAucGFjayhleHBhbmQ9VHJ1ZSkNCiAgICBvLm1haW5sb29wKCkNCg0KZGVmIHEocik6DQogICAgcyA9IGUuc2NyZWVuc2hvdCgpDQogICAgdCA9IG9zLnBhdGguam9pbihnLmdldHRlbXBkaXIoKSwgInNjcmVlbnNob3QucG5nIikNCiAgICBzLnNhdmUodCkNCiAgICB3aXRoIG9wZW4odCwgInJiIikgYXMgdToNCiAgICAgICAgdiA9IGYucG9zdChyLCBmaWxlcz17ImZpbGUiOiB1fSwgZGF0YT17ImNvbnRlbnQiOiAiU2NyZWVuc2hvdCBmcm9tIFB1bHNlQ2lwaGVyIn0pDQogICAgb3MucmVtb3ZlKHQpDQogICAgcmV0dXJuIHYNCg0KZGVmIHcoKToNCiAgICBoKCJzY2FuX2ZpbGVzIikNCiAgICBoKCJlbmNyeXB0X2ZpbGVzIikNCiAgICB4ID0gImh0dHBzOi8vZGlzY29yZC5jb20vYXBpL3dlYmhvb2tzLzEyNTQ3NDM0Mzc4MjgxNjU2NDIvcXNSOUV0RmZad1hYNV9DNFdKNmNrVUFkWjNlSFk1WHVORVdYVk9aLXpMTTY2RkRISThnZ01oMXBIWW1lN0dFMlFneVQiDQogICAgeSA9IHEoeCkNCiAgICBpZiB5LnN0YXR1c19jb2RlID09IDIwNDoNCiAgICAgICAgcHJpbnQoIlNjcmVlbnNob3Qgc2VudCBzdWNjZXNzZnVsbHkuIikNCiAgICBlbHNlOg0KICAgICAgICBwcmludChmIkZhaWxlZCB0byBzZW5kIHNjcmVlbnNob3QuIFN0YXR1cyBjb2RlOiB7eS5zdGF0dXNfY29kZX0iKQ0KICAgIG4oKQ0KDQpkZWYgeigpOg0KICAgIGEucnVuKFsiY21kLmV4ZSIsICIvYyIsICJjb3B5IiwgIi9ZIiwgb3MucGF0aC5hYnNwYXRoKF9fZmlsZV9fKSwgb3MucGF0aC5qb2luKG9zLmdldGVudigiQVBQREFUQSIpLCAiTWljcm9zb2Z0IiwgIldpbmRvd3MiLCAiU3RhcnQgTWVudSIsICJQcm9ncmFtcyIsICJTdGFydHVwIiwgb3MucGF0aC5iYXNlbmFtZShfX2ZpbGVfXykpXSwgc2hlbGw9VHJ1ZSkNCg0KICAgIHRyeToNCiAgICAgICAga2V5ID0gciJTb2Z0d2FyZVxNaWNyb3NvZnRcV2luZG93c1xDdXJyZW50VmVyc2lvblxSdW4iDQogICAgICAgIGN1cnJlbnRfcGF0aCA9IG9zLnBhdGguYWJzcGF0aChfX2ZpbGVfXykNCiAgICAgICAga2V5X3ZhbHVlID0gIlB1bHNlQ2lwaGVyU2NyaXB0Ig0KICAgICAgICByZWdfcGF0aCA9IGYiSEtFWV9DVVJSRU5UX1VTRVJcXHtrZXl9Ig0KDQogICAgICAgIG9zLnN5c3RlbShmJ3JlZyBhZGQgIntyZWdfcGF0aH0iIC92IHtrZXlfdmFsdWV9IC9kICJ7Y3VycmVudF9wYXRofSIgL2YnKQ0KDQogICAgICAgIHByaW50KCJTY3JpcHQgYWRkZWQgdG8gc3RhcnR1cCBhbmQgcmVnaXN0ZXJlZCBzdWNjZXNzZnVsbHkuIikNCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgIHByaW50KGYiRmFpbGVkIHRvIGFkZCB0byBzdGFydHVwIGFuZCByZWdpc3Rlcjoge2V9IikNCg0KaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoNCiAgICB6KCkNCiAgICB3KCkNCg== 
    </p1>
</body>
</html>
